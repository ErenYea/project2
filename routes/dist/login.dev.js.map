{"version":3,"sources":["login.js"],"names":["express","require","router","Router","mysqlConnection","post","req","res","next","username","body","password","console","log","stat","cookie","redirect","query","err","rows","fields","send","data","user_name","user_password","module","exports"],"mappings":";;AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb,C,CACA;;AACA,IAAMC,eAAe,GAAGH,OAAO,CAAC,aAAD,CAA/B;;AAEAC,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACzCC,EAAAA,QAAQ,GAAGH,GAAG,CAACI,IAAJ,CAASD,QAApB;AACAE,EAAAA,QAAQ,GAAGL,GAAG,CAACI,IAAJ,CAASC,QAApB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,QAAxB;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,QAAxB;;AACA,MAAIF,QAAQ,IAAI,OAAZ,IAAuBE,QAAQ,IAAI,OAAvC,EAAgD;AAC9CG,IAAAA,IAAI,GAAG,QAAP,CAD8C,CAE9C;;AACAP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmBD,IAAnB;AACAP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmB,OAAnB;AACAR,IAAAA,GAAG,CAACS,QAAJ,CAAa,SAAb,EAL8C,CAM9C;AACD,GAPD,MAOO;AACLZ,IAAAA,eAAe,CAACa,KAAhB,oDAC8CR,QAD9C,QAEE,UAACS,GAAD,EAAMC,IAAN,EAAYC,MAAZ,EAAuB;AACrB,UAAIF,GAAJ,EAAS;AACPX,QAAAA,GAAG,CAACc,IAAJ,CAASH,GAAT;AACD,OAFD,MAEO;AACLI,QAAAA,IAAI,GAAGH,IAAI,CAAC,CAAD,CAAX,CADK,CAEL;;AACA,YAAIG,IAAI,CAACC,SAAL,IAAkBd,QAAlB,IAA8Ba,IAAI,CAACE,aAAL,IAAsBb,QAAxD,EAAkE;AAChEG,UAAAA,IAAI,GAAG,QAAP;AACAP,UAAAA,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmBD,IAAnB;AACAP,UAAAA,GAAG,CAACQ,MAAJ,CAAW,MAAX,EAAmBN,QAAnB;AACAF,UAAAA,GAAG,CAACS,QAAJ,CAAa,SAAb;AACD,SALD,MAKO;AACLT,UAAAA,GAAG,CAACc,IAAJ,CAAS,gCAAT;AACD,SAVI,CAWL;;AACD;AACF,KAlBH;AAoBD,GAjCwC,CAmCzC;;AACD,CApCD;AAsCAI,MAAM,CAACC,OAAP,GAAiBxB,MAAjB","sourcesContent":["var express = require(\"express\");\nvar router = express.Router();\n// const mysql = require(\"mysql\");\nconst mysqlConnection = require(\"./mysqlconn\");\n\nrouter.post(\"/\", function (req, res, next) {\n  username = req.body.username;\n  password = req.body.password;\n  console.log(\"Username\", username);\n  console.log(\"Password\", password);\n  if (username == \"admin\" && password == \"admin\") {\n    stat = \"active\";\n    // console.log(stat);\n    res.cookie(\"stat\", stat);\n    res.cookie(\"user\", \"admin\");\n    res.redirect(\"/tables\");\n    //   res.render(\"index\", { title: \"Express\" });\n  } else {\n    mysqlConnection.query(\n      `select * from Account where user_name = '${username}'`,\n      (err, rows, fields) => {\n        if (err) {\n          res.send(err);\n        } else {\n          data = rows[0];\n          // console.log(password)\n          if (data.user_name == username && data.user_password == password) {\n            stat = \"active\";\n            res.cookie(\"stat\", stat);\n            res.cookie(\"user\", username);\n            res.redirect('/tables')\n          } else {\n            res.send(\"Username or password incoorect\");\n          }\n          // res.send(data);\n        }\n      }\n    );\n  }\n\n  // res.send(req.body);\n});\n\nmodule.exports = router;\n"],"file":"login.dev.js"}