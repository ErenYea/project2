"use strict";var express=require("express"),router=express.Router(),mysqlConnection=require("./mysqlconn.js");router.post("/",function(e,c,n){var o,t,r=e.body;if(console.log(r),1==Object.getOwnPropertyNames(r).length)for(key in r)o=key,t=r[key];else o=Object.keys(r)[0],t=r[Object.keys(r)[0]];if("ADD"==t)mysqlConnection.query("select COLUMN_NAME, DATA_TYPE, CHARACTER_MAXIMUM_LENGTH,  \n       IS_NULLABLE \n    from INFORMATION_SCHEMA.COLUMNS\n    where TABLE_NAME='".concat(o,"'"),function(e,n,t){e?c.send(e):c.render("add",{data:n,tablename:o,cond:"add"})});else if("EDIT"==r[Object.keys(r)[0]])mysqlConnection.query("select COLUMN_NAME,DATA_TYPE,CHARACTER_MAXIMUM_LENGTH,IS_NULLABLE\n      from INFORMATION_SCHEMA.COLUMNS\n      where TABLE_NAME='".concat(r.tablename,"'"),function(e,n,t){var o=n;mysqlConnection.query("select * from ".concat(r.tablename," where ").concat(r.id[0],"=").concat(Object.keys(r)[0]),function(e,n,t){id=[r.id[0],Object.keys(r)[0]],c.render("add",{data:o,rows:n,tablename:r.tablename,cond:"edit",id:id})})});else if("DELETE"==r[Object.keys(r)[0]])mysqlConnection.query("delete from ".concat(r.tablename," where ").concat(r.id[0],"=").concat(Object.keys(r)[0]),function(e,n,t){e?c.send(e):c.redirect("/tables")});else{var s=[o];mysqlConnection.query("SELECT * from ".concat(o),function(e,n,t){if(e)c.send(e);else{var o=[n];c.render("tables",{title:"Express",data:o,tablenames:s,cond:"view"})}})}}),module.exports=router;
//# sourceMappingURL=add.min.js.map
