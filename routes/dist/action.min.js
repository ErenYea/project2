"use strict";var express=require("express"),router=express.Router(),mysqlConnection=require("./mysqlconn.js");router.post("/",function(e,n,t){var o,r,s=e.body,a=[],c=[];for(key in s){if("string"!=typeof(r=s[key])||isNaN(r)){if("task"==key){o=s[key];continue}a.push(s[key])}else{var i=parseInt(s[key]);a.push(i)}c.push(key)}var l=a.shift();c.shift(),console.log(a),console.log(c);var u="'"+a.join("','")+"'",f=""+c.join(",");if("add"==o)mysqlConnection.query("insert into ".concat(l," (").concat(f,") values (").concat(u,")"),function(e,t,o){e?n.send(e):n.redirect("/tables")});else if("edit"==o){value=a.shift(),console.log(value),arr_value=value.split(","),c.shift();for(var y="",v=0;v<c.length;v++){if(v==c.length-1){y+="".concat(c[v],"=")+"'"+a[v]+"'";break}y+="".concat(c[v],"=")+"'"+a[v]+"',"}mysqlConnection.query("update ".concat(l," set ").concat(y," where ").concat(arr_value[0]," = ").concat(arr_value[1]),function(e,t,o){e?n.send(e):n.redirect("/tables")})}}),module.exports=router;
//# sourceMappingURL=action.min.js.map
