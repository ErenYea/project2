"use strict";var express=require("express"),router=express.Router(),mysqlConnection=require("./mysqlconn.js");router.get("/",function(m,n,e){var r,t,s,o=m.cookies.stat;if(console.log(o),"active"==o){var f=function(e,n){return new Promise(function(t,s){mysqlConnection.query("SELECT * from ".concat(e[n]),function(e,n,r){e?(console.log("Second function",e),s(e)):t(n)})})},a=function(){var n,r,t,s,o,a,c,u,i,l;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=[],e.next=4,regeneratorRuntime.awrap(new Promise(function(t,s){mysqlConnection.query("show tables",function(e,n,r){e?(console.log("First Function",e),s(e)):t(n)})}));case 4:t=e.sent,console.log(t),"admin"!=m.cookies.user&&t.shift(),o=!(s=!0),a=void 0,e.prev=10,c=t[Symbol.iterator]();case 12:if(s=(u=c.next()).done){e.next=27;break}element=u.value,e.t0=regeneratorRuntime.keys(element);case 15:if((e.t1=e.t0()).done){e.next=24;break}return key=e.t1.value,n.push(element[key]),e.next=20,regeneratorRuntime.awrap(f(element,key));case 20:i=e.sent,r.push(i),e.next=15;break;case 24:s=!0,e.next=12;break;case 27:e.next=33;break;case 29:e.prev=29,e.t2=e.catch(10),o=!0,a=e.t2;case 33:e.prev=33,e.prev=34,s||null==c.return||c.return();case 36:if(e.prev=36,o)throw a;e.next=39;break;case 39:return e.finish(36);case 40:return e.finish(33);case 41:return l=[n,r],e.abrupt("return",l);case 43:case"end":return e.stop()}},null,null,[[10,29,33,41],[34,,36,40]])};regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(a());case 2:r=e.sent,t=r[0],s=r[1],n.render("tables",{title:"Express",data:s,tablenames:t,cond:"table"});case 6:case"end":return e.stop()}})}else n.redirect("/")}),module.exports=router;
//# sourceMappingURL=tables.min.js.map
